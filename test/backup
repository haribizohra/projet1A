#include "etoile.h"

void initialiserEtoile(Etoile *e)
{
	e->image[0]=IMG_Load("etoile.png");
	e->image[1]=IMG_Load("etoile ptit.png");
	e->nbrEtoiles[0]=7;
//	e->nbrEtoiles[1]=;
//	e->nbrEtoiles[2]=;

	for(int i=0;i<3;i++)
	{
		for(int j=0;j < e->nbrEtoiles[i];j++)
		{
			e->pos[i][j].w=e->image[0]->w;
			e->pos[i][j].h=e->image[0]->h;
			e->num[i][j]=0;
		}
	}

	e->lastAnimated=0;	

	e->pos[0][0].x=3000;
	e->pos[0][1].x=600;
	e->pos[0][2].x=1080;
	e->pos[0][3].x=5800;
	e->pos[0][4].x=7400;
	e->pos[0][5].x=2010;
	e->pos[0][6].x=4050;
	for(int i=0;i < e->nbrEtoiles[0];i++)	
		e->pos[0][i].y=250;
	/*
	e->pos[1][0].x=;
	e->pos[1][1].x=;
	e->pos[1][2].x=;
	e->pos[1][3].x=;
	e->pos[1][4].x=;
	e->pos[1][5].x=;
	e->pos[1][6].x=;
	for(int i=0;i < e->nbrEtoiles[1];i++)	
		e->pos[1][i].y=;

	e->pos[2][0].x=;
	e->pos[2][1].x=;
	e->pos[2][2].x=;
	e->pos[2][3].x=;
	e->pos[2][4].x=;
	e->pos[2][5].x=;
	e->pos[2][6].x=;
	for(int i=0;i < e->nbrEtoiles[2];i++)	
		e->pos[2][i].y=;
	*/
}


void afficherEtoile(SDL_Surface *screen,Etoile e,int level)
{
	printf("affiche");
	for(int i=0;i < e.nbrEtoiles[level-1] ;i++)	
		SDL_BlitSurface(e.image[e.num[level-1][i]],NULL,screen,&e.pos[level-1][i]);
}

void animEtoile(Etoile *e,int level)
{
		printf("anim");
		
	if(SDL_GetTicks()-e->lastAnimated >=150)
	{	
		for(int i=0;i < e->nbrEtoiles[level-1] ;i++)
		{
			if(e->num[level-1][i]==0)
				e->num[level-1][i]=1;
			else if(e->num[level-1][i]==1)
				e->num[level-1][i]=0;
			printf("%d--",e->num[level-1][i]);
			e->lastAnimated=SDL_GetTicks();
		}
	}
}
